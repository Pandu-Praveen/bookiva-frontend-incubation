<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bookiva - Halls</title>
    <link rel="icon" type="image/png" href="/images/icon2.png" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/utility.css" />
    <link rel="stylesheet" href="/css/mobile.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tagify/4.3.0/tagify.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tagify/4.3.0/tagify.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
      select {
        font-family: Arial, sans-serif;
        font-size: 16px;
        color: #080808;
        padding: 5px;
      }
      /* Style for the options within the select element */
      select option {
        background-color: #f0f0f0; /* Light gray background */
        color: #080808; /* Black text color */
        padding: 100px;
      }
      /* Style for the selected option */
      select option:checked {
        background-color: #ccc; /* Light gray background for selected option */
        font-weight: bold; /* Bold text for selected option */
      }
      .refreshments {
        width: 200px;
        height: 45px;
        padding: 1rem;
        font-size: 14px;
        align-content: first baseline;
        display: block;
      }
      .tagify {
        background-color: white;
        height: 65px;
        font-size: 1.2rem;
        overflow: auto;
      }
      .tagify__tag-text {
        color: Blue;
        align-content: center;
        font-weight: 600;
      }
      .tagify__tag > div::before {
        border-radius: 30px;
        background-color: rgb(245, 179, 179);
      }
      .Confirmpopup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ffffff;
        padding: 20px;
        border: 2px solid rgb(182, 182, 182);
        z-index: 9999;
        max-width: 100%; /* Adjust the maximum width as needed */
        max-height: 100%; /* Adjust the maximum height as needed */
        overflow: auto;
        border-radius: 10px;
      }
    </style>
  </head>
  <body>
    <nav class="navv-main">
      <div class="nav-main">
        <div class="nav-img">
          <!-- <img src="/images/icon2.png" alt="" style="width: 30px" /> -->
          <img src="/images/bookiva4.png" alt="" style="width: 100px" />
        </div>
        <div class="nav-links">
          <a href="/" class="nav-link ff-inter fs-2s">Home</a>
          <a href="/venues/" class="nav-link nav-link-login ff-inter fs-2s"
            >Browse</a
          >
          <button class="user-nav br-m">
            <i data-feather="user"></i>
            <i data-feather="chevron-down"></i>
            <div class="user-menu user-menu-hidden">
              <div class="user-menu-category">
                <a class="ff-inter fs-2s user-menu-link" href="/login/"
                  >Log in</a
                >
              </div>

              <hr class="user-menu-hr" />
              <a class="ff-inter fs-2s user-menu-link" href="/contactus/"
                >Contact</a
              >
            </div>
          </button>
        </div>
      </div>
    </nav>

    <div class="home-content form-content">
      <h1 class="ff-inter hall-name"></h1>
      <div
        style="
          display: flex;
          justify-content: center;
          align-items: center;
          width: 90%;
        "
      >
        <img alt="" class="hall-image" />
      </div>
      <form class="booking-form" id="bruh" autocomplete="on">
        <label for="email" class="fs-2s ff-inter">Email Address *</label>
        <input
          type="email"
          name="email"
          id="email"
          placeholder="Enter Your Email address"
          class="ff-inter fs-s book-input-box"
          disabled
          pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}"
          title="Invalid email address"
        />
        <label for="name" class="fs-2s ff-inter"> Name *</label>
        <input
          type="text"
          name="name"
          id="name"
          placeholder="Enter Your Name"
          class="ff-inter fs-s book-input-box"
          disabled
          required
        />
        <label for="num" class="fs-2s ff-inter"> Mobile Number *</label>
        <input
          inputmode="numeric"
          type="tel"
          name="num"
          id="num"
          placeholder="Enter Your Mobile number"
          class="ff-inter fs-s book-input-box"
          required
          maxlength="10"
          title="Invalid phone number"
          pattern="[6-9]{1}[0-9]{9}"
        />
        <div class="form-date">
          <div>
            <label for="date" class="fs-2s ff-inter">Date:*</label>
            <!--remove this garbage and add flatpickr-->
            <input
              type="date"
              name="date"
              id="date"
              disabled
              class="ff-inter fs-s book-input-box"
            />
          </div>
          <div>
            <label for="seats" class="fs-2s ff-inter seats-needed"
              >Seats required:*</label
            >
            <!--remove this garbage and add flatpickr-->
            <input
              type="number"
              inputmode="numeric"
              required
              name="seats"
              id="seats"
              class="ff-inter fs-s book-input-box"
              min="1"
            />
          </div>
        </div>
        <!--remove value attr and add required attr to above inputs-->
        <div class="form-date">
          <div>
            <label for="start-time" class="fs-2s ff-inter"
              >Starting Time:*</label
            >
            <div>
              <select
                name="start-time-hr"
                id="start-time-hr"
                required
                class="ff-inter fs-s book-input-box"
                style="color: rgb(8, 8, 8)"
                required
              >
                <option value="" disabled selected>--</option>
                <option value="9" id="s9" style="font-size: 17px">09</option>
                <option value="10" id="s10" style="font-size: 17px">10</option>
                <option value="11" id="s11" style="font-size: 17px">11</option>
                <option value="12" id="s12" style="font-size: 17px">12</option>
                <option value="1" id="s1" style="font-size: 17px">01</option>
                <option value="2" id="s2" style="font-size: 17px">02</option>
                <option value="3" id="s3" style="font-size: 17px">03</option>
                <option value="4" id="s4" style="font-size: 17px">04</option>
                <option value="5" id="s5" style="font-size: 17px">05</option>
                <option value="6" id="s6" style="font-size: 17px">06</option>
              </select>
              <select
                name="start-time-min"
                id="start-time-min"
                required
                class="ff-inter fs-s book-input-box"
                style="color: rgb(8, 8, 8)"
                required
              >
                <option value="" disabled selected>--</option>
                <option value="0" id="s0" style="font-size: 17px">00</option>
                <option value="30" id="s30" style="font-size: 17px">30</option>
              </select>
              <select
                name="start-time-ampm"
                id="start-time-ampm"
                required
                class="ff-inter fs-s book-input-box"
                style="color: rgb(8, 8, 8)"
                required
              >
                <option value="" disabled selected>--</option>
                <option value="am" disabled style="font-size: 17px">AM</option>
                <option value="pm" disabled style="font-size: 17px">PM</option>
              </select>
            </div>
          </div>
          <div>
            <label for="end-time" class="fs-2s ff-inter">Ending Time:*</label>
            <div>
              <select
                name="end-time-hr"
                id="end-time-hr"
                required
                class="ff-inter fs-s book-input-box"
                style="color: rgb(8, 8, 8)"
                required
              >
                <option value="" disabled selected>--</option>
                <option value="9" id="e9" style="font-size: 17px">09</option>
                <option value="10" id="e10" style="font-size: 17px">10</option>
                <option value="11" id="e11" style="font-size: 17px">11</option>
                <option value="12" id="e12" style="font-size: 17px">12</option>
                <option value="1" id="e1" style="font-size: 17px">01</option>
                <option value="2" id="e2" style="font-size: 17px">02</option>
                <option value="3" id="e3" style="font-size: 17px">03</option>
                <option value="4" id="e4" style="font-size: 17px">04</option>
                <option value="5" id="e5" style="font-size: 17px">05</option>
                <option value="6" id="e6" style="font-size: 17px">06</option>
                <option value="7" id="e7" style="font-size: 17px">07</option>
              </select>
              <select
                name="end-time-min"
                id="end-time-min"
                required
                class="ff-inter fs-s book-input-box"
                style="color: rgb(8, 8, 8)"
                required
              >
                <option value="" disabled selected>--</option>
                <option id="e0" value="0" style="font-size: 17px">00</option>
                <option id="e30" value="30" style="font-size: 17px">30</option>
              </select>
              <select
                name="end-time-ampm"
                id="end-time-ampm"
                required
                class="ff-inter fs-s book-input-box"
                style="color: rgb(8, 8, 8)"
                required
              >
                <option value="" disabled selected>--</option>
                <option value="am" disabled style="font-size: 17px">AM</option>
                <option value="pm" disabled style="font-size: 17px">PM</option>
              </select>
            </div>
          </div>
        </div>
        <label for="Event name" class="fs-2s ff-inter">Event Name *</label>
        <input
          type="text"
          name="eventname"
          id="eventname"
          placeholder="lessthan 35 characters"
          class="ff-inter fs-s book-input-box"
          maxlength="35"
          required
        />
        <label for="guest" class="fs-2s ff-inter">Chief guest:</label
        ><!--remove this garbage and add flatpickr-->
        <div class="guest">
          <ul></ul>
          <input
            type="text"
            name="guest"
            id="guest"
            class="ff-inter fs-s book-input-box"
            style="padding: 1rem"
          />
        </div>
        <label for="purpose" class="ff-inter fs-2s">Purpose of booking:*</label>
        <input
          type="text"
          name="purpose"
          id="purpose"
          placeholder="lessthan 65 characters"
          required
          class="ff-inter fs-2s"
          style="padding: 1rem"
          maxlength="65"
        />

        <div class="form-date">
          <div>
            <label for="refreshments" class="ff-inter fs-2s"
              >Refreshments needed:*</label
            >

            <select
              type="text"
              name="refreshments"
              id="refreshments"
              class="refreshments"
              style="padding: 1rem"
            >
              <option value="yes" style="font-size: 17px">YES</option>
              <option value="no" selected style="font-size: 17px">NO</option>
            </select>
          </div>

          <div id="additionalOption1" style="display: none">
            <label for="guestsForAll" class="ff-inter fs-2s"
              >Refreshments for :*</label
            ><br /><br />

            <select
              type="text"
              name="Refreshments for "
              style="font-size: 15px"
              id="Refreshments for"
              class="refreshments"
              style="padding: 1rem"
            >
              <option value="" disabled selected>select any one</option>
              <option value="Guest" style="font-size: 19px">Guest</option>
              <option value="Participants" style="font-size: 19px">
                Participants
              </option>
              <option value="Both" style="font-size: 19px">Both</option>
            </select>
          </div>

          <div id="additionalOption2" style="display: none">
            <label for="foodsnack" class="ff-inter fs-2s"
              >Type of Refreshments:*</label
            ><br /><br />

            <select
              type="text"
              name="Type of Refreshments"
              id="Type of Refreshments"
              class="refreshments"
              style="padding: 1rem"
            >
              <option value="Food" style="font-size: 19px">Food</option>
              <option value="Snacks" selected style="font-size: 19px">
                Snacks
              </option>
            </select>
          </div>

          <div id="additionalOption3" style="display: none">
            <label for="food" class="ff-inter fs-2s">Food for:*</label
            ><br /><br />
            <input
              type="checkbox"
              id="Breakfast"
              name="Food for"
              value="Breakfast"
              style="transform: scale(1.5); margin-right: 5px"
            />
            <label for="food" class="ff-inter fs-2s" style="font-size: 20px"
              >Breakfast &nbsp;&nbsp;&nbsp;</label
            ><br />
            <input
              type="checkbox"
              id="Lunch"
              name="Food for"
              value="Lunch"
              style="transform: scale(1.5); margin-right: 5px"
            />
            <label for="food" class="ff-inter fs-2s" style="font-size: 20px"
              >Lunch &nbsp;&nbsp;&nbsp;</label
            ><br />
            <input
              type="checkbox"
              id="Dinner"
              name="Food for"
              value="Dinner"
              style="transform: scale(1.5); margin-right: 5px"
            />
            <label for="food" class="ff-inter fs-2s" style="font-size: 20px"
              >Dinner &nbsp;&nbsp;&nbsp;</label
            >
          </div>
          <br />
        </div>
        <div>
          <input
            type="checkbox"
            name="agree"
            id="agree"
            style="transform: scale(1.2); margin-right: 5px"
            required
          /><label for="agree" class="ff-inter fs-2s fw-500">
            Hereby, I agree that the above details are true to the best of my
            knowledge and that I am accountable for misinformation</label
          >
        </div>
        <button
          type="submit"
          id="Previewbutton"
          class="butt-main sign-in ff-inter fs-2s submit"
        >
          Book the Hall
        </button>
      </form>
    </div>
    <div
      id="Confirmpopup"
      class="Confirmpopup ff-inter fs-s"
      style="width: 300px"
    >
      <h3>Hall Name : <span id="popupName"></span></h3>
      <br />
      <h3>Date : <span id="Date"></span></h3>
      <br />
      <h3>Start Time : <span id="starttime"></span></h3>
      <br />
      <h3>End Time : <span id="endtime"></span></h3>
      <br />
      <h3>Event Name : <span id="eventName"></span></h3>
      <br />
      <button
        id="PreviewcloseButton"
        class="ff-inter fs-2s submit"
        style="
          background-color: #f81414d4;
          border: none;
          color: rgb(255, 255, 255);
          width: 100px;
          height: 38px;
          border-radius: 5px;
          cursor: pointer;
        "
      >
        Close
      </button>
      <button
        id="ConfirmButton"
        class="ff-inter fs-2s submit"
        style="
          background-color: black;
          color: white;
          width: 150px;
          height: 38px;
          border-radius: 5px;
          cursor: pointer;
        "
      >
        Confirm booking
      </button>
    </div>

    <div class="msg-box msg-box-hidden"></div>
    <script type="module" src="/booking.js"></script>
    <script>
      // Get the "refreshments" select element
      var refreshmentsSelect = document.getElementById("refreshments");

      // Get the "additionalOption" element
      var additionalOption1 = document.getElementById("additionalOption1");

      // Add an event listener to the "refreshments" select element
      refreshmentsSelect.addEventListener("change", function (event) {
        var additionalOption3 = document.getElementById("additionalOption3");
        var additionalOption2 = document.getElementById("additionalOption2");
        // Get the selected value
        var selectedValue = event.target.value;
        // console.log(selectedValue)
        // If "YES" was selected, display the additional option
        if (selectedValue === "yes") {
          additionalOption1.style.display = "block";
          additionalOption2.style.display = "block";
          document.getElementById("Refreshments for").value = "Guest";
        } else {
          // Otherwise, hide the additional option
          additionalOption1.style.display = "none";
          additionalOption2.style.display = "none";
          additionalOption3.style.display = "none";
        }
      });

      document.addEventListener("DOMContentLoaded", function () {
        var FoodSelect = document.getElementById("Type of Refreshments");
        var additionalOption3 = document.getElementById("additionalOption3");

        FoodSelect.addEventListener("change", function () {
          // Check if the checkbox is checked
          var selectedValue = event.target.value;
          if (selectedValue === "Food") {
            // Show the "additionalOption3" element
            additionalOption3.style.display = "block";
          } else {
            // Hide the "additionalOption3" element
            additionalOption3.style.display = "none";
          }
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        // Get the select elements for hours and AM/PM
        var hourSelect = document.getElementById("start-time-hr");
        var ampmSelect = document.getElementById("start-time-ampm");

        // Function to update the AM/PM select based on the hour
        function updateAmPm() {
          // Get the selected hour
          var selectedHour = parseInt(hourSelect.value, 10);

          // If the hour is between 9 and 11, select "AM", otherwise select "PM"
          ampmSelect.value =
            selectedHour >= 9 && selectedHour < 12 ? "am" : "pm";
        }

        // Add event listener to update AM/PM select when hour select changes
        hourSelect.addEventListener("change", updateAmPm);

        // Initially update the AM/PM select based on the initial value of hour select
        updateAmPm();
      });
      document.addEventListener("DOMContentLoaded", function () {
        // Get the select elements for hours and AM/PM
        var hourSelect = document.getElementById("end-time-hr");
        var ampmSelect = document.getElementById("end-time-ampm");

        // Function to update the AM/PM select based on the hour
        function updateAmPm() {
          // Get the selected hour
          var selectedHour = parseInt(hourSelect.value, 10);

          // If the hour is between 9 and 11, select "AM", otherwise select "PM"
          ampmSelect.value =
            selectedHour >= 9 && selectedHour < 12 ? "am" : "pm";
        }

        // Add event listener to update AM/PM select when hour select changes
        hourSelect.addEventListener("change", updateAmPm);

        // Initially update the AM/PM select based on the initial value of hour select
        updateAmPm();
      });
      document.addEventListener("DOMContentLoaded", function () {
        // Get the select elements for starting and ending hours and minutes
        var startHourSelect = document.getElementById("start-time-hr");
        var startMinSelect = document.getElementById("start-time-min");
        var endHourSelect = document.getElementById("end-time-hr");
        var endMinSelect = document.getElementById("end-time-min");
        var startAmPmSelect = document.getElementById("start-time-ampm");
        var endAmPmSelect = document.getElementById("end-time-ampm");

        // Function to update the ending time options based on the starting time
        function updateEndTimeOptions() {
          // Get the selected starting hour and minute
          var selectedStartHour = parseInt(startHourSelect.value, 10);
          var selectedStartMin = parseInt(startMinSelect.value, 10);
          // Get the selected ending hour and minute
          var selectedEndHour = parseInt(endHourSelect.value, 10);
          var selectedEndMin = parseInt(endMinSelect.value, 10);
          // Get the selected starting am/pm
          var selectedStartAmPm = startAmPmSelect.value;
          // Get the selected ending am/pm
          var selectedEndAmPm = endAmPmSelect.value;

          // console.log(selectedStartHour,selectedEndMin,selectedStartAmPm,selectedEndHour,selectedEndMin,selectedEndAmPm);

          // Convert the starting and ending hours to 24-hour format
          var start24Hour =
            (selectedStartHour >= 9
              ? selectedStartHour
              : selectedStartHour + 12) % 24;
          var end24Hour =
            (selectedEndHour >= 9 ? selectedEndHour : selectedEndHour + 12) %
            24;
          // console.log(start24Hour,end24Hour,"H")
          // Calculate the total minutes of the starting and ending times
          var startTotalMin = start24Hour * 60 + selectedStartMin;
          var endTotalMin = end24Hour * 60 + selectedEndMin;
          // console.log(startTotalMin,endTotalMin)

          // Check if the ending time is earlier than the starting time + 30 minutes
          if (endTotalMin < startTotalMin + 30) {
            // console.log(endTotalMin,startTotalMin+30,"a")
            // Adjust the ending time to be 30 minutes ahead
            selectedEndMin =
              (selectedStartHour * 60 + selectedStartMin + 30) % 60;
            selectedEndHour =
              (selectedStartHour + Math.floor((selectedStartMin + 30) / 60)) %
              12;
            // Update the ending time select elements
            endHourSelect.value = selectedEndHour == 0 ? 12 : selectedEndHour;
            endMinSelect.value = selectedEndMin;
            // Set the ending am/pm based on the new ending hour
            endAmPmSelect.value =
              selectedEndHour >= 9 && selectedEndHour < 12 ? "am" : "pm";
          }
          endAmPmSelect.value =
            selectedEndHour >= 9 && selectedEndHour < 12 ? "am" : "pm";
        }
        // Add event listeners to update the ending time options when the starting time or AM/PM changes
        endHourSelect.addEventListener("change", updateEndTimeOptions);
        endMinSelect.addEventListener("change", updateEndTimeOptions);
        startHourSelect.addEventListener("change", updateEndTimeOptions);
        startMinSelect.addEventListener("change", updateEndTimeOptions);
      });

      var tagify;
      var count;

      document.addEventListener("DOMContentLoaded", function () {
        // Get the guest input element
        var guestInput = document.querySelector("input[name=guest]");
        // Initialize Tagify on the above input node reference
        tagify = new Tagify(guestInput);
        tagify.on("add", function () {
          count = tagify.value.length;
          // console.log("Number of guests: " + count);
        });
        // Check if Tagify is properly initialized
        // console.log(tagify);
      });
    </script>
  </body>
</html>
